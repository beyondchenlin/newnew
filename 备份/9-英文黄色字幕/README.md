# Banai 视频合成工具

一个强大的视频合成工具，支持多视频画中画效果、高斯模糊背景、文字叠加等功能。

## 🌟 主要特性

- 🎬 多视频画中画合成
- 🌫️ 智能背景处理（高斯模糊/纯黑）
- 🎵 音频智能保留
- 📝 支持文字叠加（标题/副标题）
- 🎨 灵活的视频布局系统
- 🔄 随机视频素材选择
- ⚡ 高性能视频处理

## 📁 目录结构

```
project/
├── assets/            # 资源目录
│   ├── pip1_videos/  # 主视频素材
│   ├── pip1_audio/   # 主视频音频素材
│   ├── pip2_videos/  # 侧视频素材
│   └── pip3_videos/  # 备用视频素材
├── outputs/          # 输出目录
├── video_synthesis/  # 核心代码目录
├── fonts/           # 字体文件
├── logs/            # 日志文件
└── subtitles/       # 字幕文件
```

## 🚀 使用方法

1. 环境准备
```bash
# 安装依赖
pip install -r requirements.txt
```

2. 运行程序
```bash
python run.py <背景类型>
# 背景类型: 1=高斯模糊, 2=纯黑背景
```

## 🎥 视频合成规则

- **主视频**：
  - 位置：居中靠左
  - 尺寸：原始尺寸的1/3
  - 音频：保留

- **背景**：
  - 类型：高斯模糊/纯黑
  - 来源：主视频
  - 音频：移除

- **侧视频**：
  - 位置：居中靠右
  - 尺寸：原始尺寸的1/4
  - 音频：移除
  - 数量：自动计算以匹配总时长

## 📝 注意事项

1. 确保assets目录下有足够的视频素材
2. 视频格式支持：.mp4
3. 所有输入视频需确保可正常读取
4. 临时文件会自动清理

## 🛠️ 技术栈

- Python
- FFmpeg
- OpenCV
- Pillow

## 📄 许可证

MIT License